using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Globalization;

namespace Task_2._3
{
    class User
    {
        private string lastname;
        private string firstname;
        private string patronimic;

        private readonly DateTime dateofbirth;
        public User(string lastname, string firstname, string patronimic, DateTime dateofbirth)
        {
            if (DateTime.Compare(DateTime.Today, dateofbirth) < 0)
            {
                throw new ArgumentException("You were never born, " + lastname + " " + firstname + " " + patronimic);
            }
            this.lastname = lastname;
            this.firstname = firstname;                
            this.patronimic = patronimic;
            this.dateofbirth = dateofbirth;
        }

        public DateTime Dateofbirth => dateofbirth;
        public string Lastname { get { return lastname; } set { lastname = value; } }
        public string Firstname { get { return firstname; } set { firstname = value; } }
        public string Patronimic { get { return patronimic; } set { patronimic = value; } }
        public int Age
        {
            get
            {
                if (dateofbirth.DayOfYear > DateTime.Today.DayOfYear)
                {
                    return DateTime.Today.Year - dateofbirth.Year - 1;
                }
                return DateTime.Today.Year - dateofbirth.Year;               
            }
        }
    }
    internal class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("Введите ваши ФИО через Enter:");
            string lastname = Console.ReadLine();
            string firstname = Console.ReadLine();
            string patronimic = Console.ReadLine();
            Console.WriteLine("Введите дату вашего рождения (dd.MM.yyyy):");
            DateTime dateofbirth = DateTime.ParseExact(Console.ReadLine(), "dd.MM.yyyy", CultureInfo.InvariantCulture); ;
            User user = new User(lastname, firstname, patronimic, dateofbirth);
            Console.WriteLine("Ого, вам уже " + user.Age + ". Не пора ли вам на пенсию, " + user.Lastname + " " + user.Firstname + " " + user.Patronimic);
        }
    }
}
